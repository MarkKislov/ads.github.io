{"version":3,"sources":["index.ts"],"names":[],"mappings":";;;AAyCA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAzCA,QAAA,gBAEA,IAGI,EAAoB,EAAsB,EAHxC,EAAwB,SAAS,cAAc,kBAC/C,EAAS,SAAS,iBAAiB,SAGnC,EAAc,SAAC,EAA0B,EAA6B,GACjE,YADU,IAAA,IAAA,EAAA,YAA0B,IAAA,IAAA,EAAA,YAA6B,IAAA,IAAA,EAAA,SACjE,iDAC2B,EAAM,KAAK,EAAQ,SAAS,EAAM,+DACb,EAAM,MAAM,EAAW,yBAAyB,EAAM,UAI3G,EAAmB,WAAc,OAAC,EAAe,EAAa,IAAM,GAAa,UAAY,KAC7F,EAAsB,WAAc,OAAC,IAAO,EAAgB,EAAa,IAAM,GAAa,UAAY,KAExG,EAAW,WAEb,EAAa,KAAK,IACd,SAAS,KAAK,aAAc,SAAS,gBAAgB,aACrD,SAAS,KAAK,aAAc,SAAS,gBAAgB,aACrD,SAAS,KAAK,aAAc,SAAS,gBAAgB,cAEzD,EAAe,OAAO,YAEtB,EAAc,EAAa,OAAO,YAAc,EAChD,EAAS,MAAM,SAAW,EAAY,IAAoB,MAG9D,OAAO,iBAAiB,OAAQ,WAC5B,IACA,EAAO,QAAQ,SAAA,GACX,EAAM,iBAAiB,QAAS,WACtB,IAAA,EAAgB,OAAO,EAAM,WAAW,eAAe,OAC7D,OAAO,SAAS,CACZ,IAAK,OAAO,YAAc,EAC1B,SAAU,iBAK1B,OAAO,iBAAiB,SAAU,WAC9B","file":"src.f514abc4.js","sourceRoot":"..\\src","sourcesContent":["import './index.scss'\r\n\r\nconst wrapper$: HTMLElement = document.querySelector('.fixed-wrapper')\r\nconst links$ = document.querySelectorAll('.link')\r\n\r\nlet pageHeight: number, scrollHeight: number, coefficient: number\r\nconst setClipPath = (topWidth: string = '40%', bottomWidth: string = '60%', height: string = '150px'): string => {\r\n    return `polygon(\r\n                  0 0, 100% 0, 100% ${height}, ${topWidth} 0, 0 ${height},\r\n                  0 100vh, 100% 100vh, 100% calc(100vh - ${height}), ${bottomWidth} 100vh,0 calc(100vh - ${height})\r\n  )`\r\n}\r\n\r\nconst setMagicTopWidth = (): string => (scrollHeight / pageHeight * 100 * coefficient).toFixed() + '%'\r\nconst setMagicBottomWidth = (): string => (100 - (scrollHeight) / pageHeight * 100 * coefficient).toFixed() + '%'\r\n\r\nconst onScroll = () => {\r\n    // для нормальной работы с Opera/Safari\r\n    pageHeight = Math.max(\r\n        document.body.scrollHeight, document.documentElement.scrollHeight,\r\n        document.body.offsetHeight, document.documentElement.offsetHeight,\r\n        document.body.clientHeight, document.documentElement.clientHeight\r\n    );\r\n    scrollHeight = window.pageYOffset\r\n\r\n    coefficient = pageHeight / window.innerHeight / 2\r\n    wrapper$.style.clipPath = setClipPath(setMagicTopWidth(), setMagicBottomWidth())\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    onScroll()\r\n    links$.forEach(link$ => {\r\n        link$.addEventListener('click', () => {\r\n            const number:number = Number(link$.attributes['data-number'].value)\r\n            window.scrollTo({\r\n                top: window.innerHeight * number,\r\n                behavior: \"smooth\"\r\n            })\r\n        })\r\n    })\r\n})\r\nwindow.addEventListener('scroll', () => {\r\n    onScroll()\r\n})\r\n\r\n\r\n\r\n\r\n\r\n"]}